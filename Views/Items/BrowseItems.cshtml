@model IEnumerable<sklad.Models.Category>

@{
    ViewData["Title"] = "BrowseItems";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

    <div class="list-group" id="categories">
        <a href="#" class="list-group-item list-group-item-action" data-id="null">Wszystkie</a>
        @foreach (var c in Model)
        {
            <a href="#" class="list-group-item list-group-item-action" data-id="@c.Id">@c.Name</a>
        }
    </div>

<div id="content">

</div>

<script>
    function getItems(id) {
        $.ajax({
            method: "GET",
            url: "/Items/ItemsFromCategory/" + id,
            cache: false,
            success: function (e) {
                $("#content").html(e);
            }
        })
    }

    $(document).ready(function () {
        $('#categories a:first').addClass('active');
        getItems();
    })

    $('#categories a').on('click', function () {
        $('#categories a.active').removeClass('active');
        $(this).addClass('active');
        getItems($(this).data("id"))
    });

</script>


